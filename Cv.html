<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kemet ATS Resume Builder – Community Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
 --primary:#111827;
 --accent:#2563eb;
 --bg:#f3f4f6;
}
*{box-sizing:border-box}
body{
 margin:0;
 font-family:Inter,sans-serif;
 height:100vh;
 display:flex;
 background:var(--bg);
 overflow:hidden;
}
.editor{
 width:38%;
 background:#fff;
 padding:20px;
 overflow:auto;
 border-right:1px solid #ddd;
}
.preview{
 flex:1;
 padding:30px;
 background:#525659;
 overflow:auto;
 display:flex;
 justify-content:center;
}
#page{
 width:210mm;
 min-height:297mm;
 background:#fff;
 padding:20mm;
 box-shadow:0 0 20px rgba(0,0,0,.3);
}
h2{margin:0 0 5px}
label{font-size:12px;font-weight:600}
input,textarea,select{
 width:100%;
 padding:9px;
 margin-bottom:10px;
 border:1px solid #ddd;
 border-radius:6px;
}
textarea{resize:vertical}
.section{
 margin-top:20px;
 font-weight:700;
 color:var(--accent);
 border-bottom:1px dashed #ccc;
 padding-bottom:5px;
}
.btn{
 padding:10px;
 border:none;
 border-radius:6px;
 cursor:pointer;
 font-weight:600;
}
.btn-main{background:var(--primary);color:#fff;width:100%;margin-top:10px}
.btn-soft{background:#eef2ff;color:var(--accent)}
.warning{font-size:12px;color:#b91c1c;margin-bottom:5px}
.score{
 background:#ecfeff;
 border:1px solid #67e8f9;
 padding:10px;
 border-radius:6px;
 margin-bottom:10px;
 font-weight:700;
}
.header{
 border-bottom:2px solid #111;
 padding-bottom:10px;
 margin-bottom:15px;
}
.name{font-size:28px;font-weight:800;text-transform:uppercase}
.title{font-size:16px;color:#444}
.sec{margin-bottom:18px}
.sec-title{
 font-size:14px;
 font-weight:700;
 text-transform:uppercase;
 border-bottom:1px solid #ddd;
 margin-bottom:8px;
}
.job{margin-bottom:12px;page-break-inside:avoid}
.row{display:flex;justify-content:space-between;font-weight:700;font-size:13px}
.sub{font-size:12px;font-style:italic;color:#555}
.desc{font-size:12px;padding-left:15px}
.skills{display:flex;flex-wrap:wrap;gap:6px}
.skill{background:#f3f4f6;padding:3px 8px;border-radius:4px;font-size:11px;font-weight:600}
.match{background:#dbeafe}

@media print{
 body{display:block;background:#fff}
 .editor{display:none}
 .preview{padding:0;background:#fff}
 #page{box-shadow:none;width:100%;padding:0}
 @page{size:A4;margin:20mm}
}
</style>
</head>

<body>

<div class="editor">
<h2>Kemet ATS Builder</h2>
<p style="font-size:13px;color:#555">Community version – ATS Optimized</p>

<div id="scoreBox" class="score">ATS Score: 0%</div>
<div id="warnings"></div>

<label>Full Name</label>
<input id="name">

<label>Job Title</label>
<input id="title">

<label>Summary Template</label>
<select id="summaryTpl">
 <option value="">-- Select --</option>
 <option value="se">Software Engineer</option>
 <option value="da">Data Analyst</option>
 <option value="mk">Marketing</option>
</select>

<label>Professional Summary</label>
<textarea id="summary"></textarea>

<div class="section">Job Description (Paste Here)</div>
<textarea id="jd"></textarea>

<div class="section">Skills (comma separated)</div>
<textarea id="skills"></textarea>

<button class="btn btn-soft" onclick="duplicateCV()">Duplicate for another Job</button>
<button class="btn btn-main" onclick="window.print()">Save as PDF</button>
</div>

<div class="preview">
<div id="page">
 <div class="header">
  <div class="name" id="oName">YOUR NAME</div>
  <div class="title" id="oTitle">JOB TITLE</div>
 </div>

 <div class="sec">
  <div class="sec-title">Professional Summary</div>
  <p id="oSummary"></p>
 </div>

 <div class="sec">
  <div class="sec-title">Skills</div>
  <div class="skills" id="oSkills"></div>
 </div>
</div>
</div>

<script>
const nameI=name, titleI=title, summaryI=summary, jdI=jd, skillsI=skills;
const oName=document.getElementById('oName'),
      oTitle=document.getElementById('oTitle'),
      oSummary=document.getElementById('oSummary'),
      oSkills=document.getElementById('oSkills');

summaryTpl.onchange=()=>{
 if(summaryTpl.value==='se')
  summaryI.value="Results-driven Software Engineer with experience in building scalable applications...";
 if(summaryTpl.value==='da')
  summaryI.value="Data Analyst skilled in transforming data into actionable insights...";
 if(summaryTpl.value==='mk')
  summaryI.value="Marketing professional with proven experience in growth strategies...";
 update();
};

document.querySelectorAll('input,textarea').forEach(el=>{
 el.oninput=update;
});

function update(){
 oName.innerText=nameI.value||'YOUR NAME';
 oTitle.innerText=titleI.value||'JOB TITLE';
 oSummary.innerText=summaryI.value;

 const keywords=(jdI.value.toLowerCase().match(/\b[a-z]{3,}\b/g)||[]);
 oSkills.innerHTML='';
 let matched=0;

 skillsI.value.split(',').forEach(s=>{
  if(!s.trim())return;
  const span=document.createElement('span');
  span.className='skill';
  if(keywords.includes(s.trim().toLowerCase())){
    span.classList.add('match'); matched++;
  }
  span.innerText=s.trim();
  oSkills.appendChild(span);
 });

 let score=0;
 if(summaryI.value.length>40) score+=25;
 if(skillsI.value.split(',').length>=5) score+=25;
 score+=Math.min(50, matched*10);

 scoreBox.innerText=`ATS Score: ${score}%`;
 showWarnings();
 saveLocal();
}

function showWarnings(){
 warnings.innerHTML='';
 if(summaryI.value.length<40)
  warnings.innerHTML+='<div class="warning">Summary is too short</div>';
 if(skillsI.value.split(',').length<5)
  warnings.innerHTML+='<div class="warning">Add at least 5 skills</div>';
}

function duplicateCV(){
 jdI.value='';
 update();
 alert('CV duplicated. Paste new Job Description.');
}

function saveLocal(){
 const data={
  name:nameI.value,title:titleI.value,summary:summaryI.value,
  jd:jdI.value,skills:skillsI.value
 };
 localStorage.setItem('kemetCV',JSON.stringify(data));
}

(function load(){
 const d=JSON.parse(localStorage.getItem('kemetCV')||'{}');
 Object.assign(nameI,d.name||'');
 titleI.value=d.title||'';
 summaryI.value=d.summary||'';
 jdI.value=d.jd||'';
 skillsI.value=d.skills||'';
 update();
})();
</script>

</body>
</html>
