<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kemet ATS Builder – Advanced Safe</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
:root{
 --primary:#0f172a;
 --accent:#2563eb;
 --bg:#f3f4f6;
}
*{box-sizing:border-box}
body{
 margin:0;
 font-family:Inter,sans-serif;
 height:100vh;
 display:flex;
 background:var(--bg);
 overflow:hidden;
}
.editor{
 width:40%;
 background:#fff;
 padding:20px;
 overflow:auto;
 border-right:1px solid #ddd;
}
.preview{
 flex:1;
 padding:30px;
 background:#525659;
 overflow:auto;
 display:flex;
 justify-content:center;
}
#page{
 width:210mm;
 min-height:297mm;
 background:#fff;
 padding:20mm;
 box-shadow:0 0 20px rgba(0,0,0,.3);
}

/* ===== UI ===== */
h2{margin:0}
.small{font-size:12px;color:#555}
label{font-size:12px;font-weight:600}
input,textarea{
 width:100%;
 padding:9px;
 margin-bottom:10px;
 border:1px solid #ddd;
 border-radius:6px;
}
textarea{resize:vertical}
.section{
 margin-top:18px;
 font-weight:700;
 color:var(--accent);
 border-bottom:1px dashed #ccc;
 padding-bottom:5px;
}
.score{
 background:#ecfeff;
 border:1px solid #67e8f9;
 padding:10px;
 border-radius:6px;
 margin:10px 0;
 font-weight:700;
}
.warn{font-size:12px;color:#b91c1c}
.ok{font-size:12px;color:#15803d}
.suggest{
 background:#f8fafc;
 border:1px dashed #cbd5f5;
 padding:8px;
 font-size:12px;
 margin-bottom:8px;
}

/* ===== CV ===== */
.header{
 border-bottom:2px solid #111;
 padding-bottom:10px;
 margin-bottom:15px;
}
.name{font-size:28px;font-weight:800;text-transform:uppercase}
.title{font-size:16px;color:#444}
.sec{margin-bottom:18px}
.sec-title{
 font-size:14px;
 font-weight:700;
 text-transform:uppercase;
 border-bottom:1px solid #ddd;
 margin-bottom:8px;
}
.skills{display:flex;flex-wrap:wrap;gap:6px}
.skill{
 background:#f3f4f6;
 padding:3px 8px;
 border-radius:4px;
 font-size:11px;
 font-weight:600;
}
.match{background:#dbeafe}

/* ===== Print ===== */
@media print{
 body{display:block;background:#fff}
 .editor{display:none}
 .preview{padding:0;background:#fff}
 #page{box-shadow:none;width:100%;padding:0}
 .match{background:#f3f4f6}
 @page{size:A4;margin:20mm}
}
</style>
</head>

<body>

<div class="editor">
<h2>Kemet ATS Builder – Advanced</h2>
<div class="small">All features are ATS-safe</div>

<div id="scoreBox" class="score">ATS Score: 0%</div>
<div id="health"></div>

<label>Full Name</label>
<input id="name">

<label>Target Job Title</label>
<input id="title">

<label>Professional Summary</label>
<textarea id="summary"></textarea>

<div class="section">Job Description</div>
<textarea id="jd" placeholder="Paste job description here..."></textarea>

<div class="section">Skills</div>
<textarea id="skills" placeholder="Comma separated"></textarea>

<div class="section">Smart Suggestions</div>
<div id="suggestions"></div>

<button onclick="window.print()" style="margin-top:10px;width:100%;padding:10px;font-weight:700">
Save ATS-Safe PDF
</button>
</div>

<div class="preview">
<div id="page">
 <div class="header">
  <div class="name" id="oName">YOUR NAME</div>
  <div class="title" id="oTitle">JOB TITLE</div>
 </div>

 <div class="sec">
  <div class="sec-title">Professional Summary</div>
  <p id="oSummary"></p>
 </div>

 <div class="sec">
  <div class="sec-title">Skills</div>
  <div class="skills" id="oSkills"></div>
 </div>
</div>
</div>

<script>
const els=document.querySelectorAll('input,textarea');
els.forEach(e=>e.oninput=update);

function words(t){
 return t.toLowerCase().match(/\b[a-z]{3,}\b/g)||[];
}

function update(){
 oName.innerText=name.value||'YOUR NAME';
 oTitle.innerText=title.value||'JOB TITLE';
 oSummary.innerText=summary.value;

 const jdWords=words(jd.value);
 const skillArr=skills.value.split(',').map(s=>s.trim()).filter(Boolean);

 oSkills.innerHTML='';
 let matched=0;
 skillArr.forEach(s=>{
  const sp=document.createElement('span');
  sp.className='skill';
  if(jdWords.includes(s.toLowerCase())){
    sp.classList.add('match'); matched++;
  }
  sp.innerText=s;
  oSkills.appendChild(sp);
 });

 let score=0;
 if(summary.value.length>50) score+=25;
 if(skillArr.length>=5) score+=25;
 if(matched>=3) score+=25;
 if(jdWords.includes(title.value.toLowerCase())) score+=25;

 scoreBox.innerText=`ATS Score: ${score}%`;

 health.innerHTML='';
 health.innerHTML+=summary.value.length>50
  ?'<div class="ok">✔ Summary length OK</div>'
  :'<div class="warn">✖ Summary too short</div>';

 health.innerHTML+=skillArr.length>=5
  ?'<div class="ok">✔ Skills count OK</div>'
  :'<div class="warn">✖ Add more skills</div>';

 health.innerHTML+=matched>=3
  ?'<div class="ok">✔ Keywords matched</div>'
  :'<div class="warn">✖ Low keyword match</div>';

 suggestSkills(jdWords,skillArr);
}

function suggestSkills(jdWords,skillArr){
 suggestions.innerHTML='';
 const uniq=[...new Set(jdWords)];
 uniq.slice(0,15).forEach(w=>{
  if(!skillArr.map(s=>s.toLowerCase()).includes(w)){
   suggestions.innerHTML+=`<div class="suggest">Suggested: ${w}</div>`;
  }
 });
}

update();
</script>

</body>
</html>
